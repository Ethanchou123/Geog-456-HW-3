<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Landmarks</title>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
        <script src="./FastFoodCoords.js"></script>
    </head>

    <body>
        <div id="mapid"></div>
        <style>
            #mapid{ width: 900px; height: 500px; }
        </style>

        <script>
            var map = L.map('mapid', {crs: L.CRS.EPSG3857}).setView([35.92422647627729, -78.85549554324338], 10);

            var OpenStreetMap_Mapnik = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            var USGS_USImagery = L.tileLayer('https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}', {
	        maxZoom: 20,
	        attribution: 'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'
            });

            function makeIcon(type) {
            var name = type
            var RestaurantIcon = L.icon({
            iconUrl: (getIcon(name)),
            iconSize: [40,40],
            popupAnchor: [0,0] 
            });
            return RestaurantIcon
        }

            function getDesc(name) {
                if (name == 'MCD') {return "McDonald's Location"}
                else if (name == 'Wendy') {return "Wendy's Location"}
                else if (name == 'King') {return 'Burger King Location'}
            }

            function getIcon(name)
            {
                if (name == 'MCD') {return 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/McDonald%27s_Golden_Arches.svg/330px-McDonald%27s_Golden_Arches.svg.png'}
                else if (name == 'Wendy') {return 'https://www.robmark.com/wp-content/uploads/2025/10/wendys-new-logo.jpg'}
                else if (name == 'King') {return 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Burger_King_logo_%281999–2020%29.svg/960px-Burger_King_logo_%281999–2020%29.svg.png'}
            }
            var coords = L.geoJSON(FastFoodCoords, {
            pointToLayer: function (feature, latlng) {
            var type = feature.properties.TYPE
            return L.marker(latlng, {icon: makeIcon(type)}).bindPopup(getDesc(type));}})
            .addTo(map); 

            var BaseMaps = {
            'Drawing': OpenStreetMap_Mapnik,
            'Photo': USGS_USImagery
            }
            var overlays = {
                'Restaurants': coords
            }
        
        L.control.layers(BaseMaps, overlays).addTo(map);

    </script>
    </body>

</html>